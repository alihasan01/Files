<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>0.189.0 Change Notes - iModel.js</title>
    <meta name="og:title" content="0.189.0 Change Notes - iModel.js">
    <meta name="twitter:title" content="0.189.0 Change Notes - iModel.js">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" type="text/css" href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/styles/bundle.css">

    <!-- bootstrap -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>

    <!-- fonts -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet"> 
    
    <link rel="stylesheet" type="text/css" href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/styles/landingPage.css"> 
    
    <link rel="stylesheet" type="text/css" href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/styles/devRegistration.css">  
        <link rel='shortcut icon' type='image/x-icon' href='http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/landing-page/assets/imodeljs_16.png' /> 
        <meta property="og:description" content="Create Immersive Connections with your Infrastructure Digital Twin."><meta property="og:url" content="imodeljs.org"><meta name="twitter:card" content="summary_large_image">
        <meta property="og:image" content="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/landing-page/assets/twitter-share.png">
        <meta />
</head>

<body data-site-root=http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/ class='layout-index '>
    <span id="contentLoader">
        <p>Woah! This page has a great deal of content... Give us a second to load it.</p>
    </span>
    <span id="contentLoaderBackground"></span>
    <div id="flex-wrapper">



        <header id="main-header">
            <div class='nav-header-container'>
                <nav class="navbar nav-main-header navbar-expand-md fixed-top navbar-light pb-0">
                    <a href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/" class="navbar-brand">
                            <img id="site-logo" class="site-logo" src="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/landing-page/assets/imodeljs-logo.svg" /> 
                            <img id="site-logo-small" class="site-logo-small" src="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/landing-page/assets/imodeljs-icon.svg" style="display:none;"/> 
                    </a>
                    <button class="navbar-toggler no-user-select mr-auto" type="button" data-toggle="collapse" data-target="#navbar5">
                        <span class="navbar-toggler-header"></span>
                    </button>
                    <ul class="navbar-nav ml-auto pr-0 nav-search">
                        <span class='search-bar'>
                          <li>
                            <div id='search-container'>
                            </div>
                          </li>
                          <script>
                            (function() {
                              var cx = '018053174497532353467:v_gnrjjlqwc';
                              var gcse = document.createElement('script');
                              gcse.type = 'text/javascript';
                              gcse.async = true;
                              gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
                              var s = document.getElementsByTagName('script')[0];
                              s.parentNode.insertBefore(gcse, s);
                            })();
                          </script>
                          <gcse:searchresults-only gname="sitesearch" resultSetSize="7"></gcse:search>
                        </span>
                    </ul>
                    <div class="navbar-collapse collapse justify-content-stretch" id="navbar5">
                        <ul class="navbar-nav mb-0" id="doc-site-tabs">
                                <li class="nav-item "><a class="nav-link" href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/getting-started">Getting Started</a></li><li class="nav-item "><a class="nav-link" href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/bis">BIS</a></li><li class="nav-item "><a class="nav-link" href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/learning">Learning</a></li><li class="nav-item "><a class="nav-link" href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/reference">API Reference</a></li><li class="nav-item change-history-tab active"><a class="nav-link" href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/changehistory">v0.190.0</a></li>
                        </ul>
                    </div>
                </nav>
            </div>
        </header>
<div id='main-wrapper'>
    <nav id='sidebar'>
        <div id='table-of-contents' class="custom-scrollbar">
            <div id="dismiss">
                <i id="dismiss-arrow" class="icon icon-chevron-left no-user-select"></i>
            </div>
            <hr id="dismiss-hr" class='sm-only'>
            <ul id='main-navigation-list'>
                <html><head></head><body><h2 id="change history">Change History</h2>
    <hr>
    <h3 id="versions">Versions</h3>
    <ul>
    <li><p><a href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/./changehistory/0.189.0" class="table-of-contents-link">0.189.0</a></p>
    </li>
    <li><p><a href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/./changehistory/0.187.0" class="table-of-contents-link">0.187.0</a></p>
    </li>
    <li><p><a href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/./changehistory/0.171.0" class="table-of-contents-link">0.171.0</a></p>
    </li>
    <li><p><a href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/./changehistory/0.163.0" class="table-of-contents-link">0.163.0</a></p>
    </li>
    </ul>
    <hr>
    <h3 id="change logs"><a href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/./changehistory/changelogs" class="table-of-contents-link">Change Logs</a></h3>
    <ul>
    <li><p><a href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/./reference/imodeljs-backend/changelog" class="table-of-contents-link">imodeljs-backend</a></p>
    </li>
    <li><p><a href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/./reference/imodeljs-frontend/changelog" class="table-of-contents-link">imodeljs-frontend</a></p>
    </li>
    <li><p><a href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/./reference/imodeljs-common/changelog" class="table-of-contents-link">imodeljs-common</a></p>
    </li>
    <li><p><a href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/./reference/geometry-core/changelog" class="table-of-contents-link">geometry-core</a></p>
    </li>
    <li><p><a href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/./reference/imodeljs-clients/changelog" class="table-of-contents-link">imodeljs-clients</a></p>
    </li>
    <li><p><a href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/./reference/bentleyjs-core/changelog" class="table-of-contents-link">bentleyjs-core</a></p>
    </li>
    </ul>
    </body></html>
            </ul>
        </div>
    </nav>    <div class='documentation-main'>
        <article id="main" class="main-content">
            <button type="button" id="sidebarCollapse" class="no-user-select"> <i class="bread-crumb-label bread-crumb-expand-leftnav icon icon-chevron-right no-user-select" id="expand-leftnav"></i></button><div class='bread-crumb-label'>Change History</div>
            <div class="edit-link"><a href="https://bentleycs.visualstudio.com/iModelTechnologies/iModelTechnologies/_git/imodeljs?path=/docs/core/changehistory%2Findex.md" target="_blank">Edit this page</a></div>
            <h1 id="0.189.0 change notes">0.189.0 Change Notes</h1>
<h2 class="h-imodelhub-file-handlers-have-been-moved-to-imodeljs-clients-backend">iModelHub file handlers have been moved to imodeljs-clients-backend<a id="imodelhub-file-handlers-have-been-moved-to-imodeljs-clients-backend" class="heading-anchor" href="#imodelhub-file-handlers-have-been-moved-to-imodeljs-clients-backend"><span><i class="fa fa-link fa-rotate-90"></i></span></a></h2>
<p>Moved AzureFileHandler, IOSAzureFileHandler, UrlFileHandler and the iModelHub tests to the imodeljs-clients-backend package. This removes the dependency of imodeljs-clients on the &quot;fs&quot; module, and turns it into a browser only package.</p>
<p>To fix related build errors, update imports for these utilities from
<code>import {AzureFileHandler, IOSAzureFileHandler, UrlFileHandler} from &quot;@bentley/imodels-clients&quot;;</code>
to
<code>import {AzureFileHandler, IOSAzureFileHandler, UrlFileHandler} from &quot;@bentley/imodels-clients-backend&quot;;</code></p>
<h2 class="h-prevented-partial-downloads-of-changesets-and-briefcases">Prevented partial downloads of ChangeSets and Briefcases<a id="prevented-partial-downloads-of-changesets-and-briefcases" class="heading-anchor" href="#prevented-partial-downloads-of-changesets-and-briefcases"><span><i class="fa fa-link fa-rotate-90"></i></span></a></h2>
<p>Backend ChangeSet and Briefcase downloads are atomic - i.e., will not be partially downloaded, and can simultaneously happen in multiple machines.</p>
<h2 class="h-changes-to-imodelconnection">Changes to IModelConnection<a id="changes-to-imodelconnection" class="heading-anchor" href="#changes-to-imodelconnection"><span><i class="fa fa-link fa-rotate-90"></i></span></a></h2>
<ul>
<li>In the case of ReadWrite connections, IModelConnection.close() now always disposes the briefcase held at the backend. Applications must ensure that any changes are saved and pushed out to the iModelHub before making this call.</li>
<li>IModelConnection.connectionTimeout is now public, allowing applications to customize this in the case of slow networks.</li>
<li>Removed unique id per connection: IModelConnection.connectionId</li>
<li>Removed <code>executeQuery</code> which could not page the result and therefore cannot stream results from backend. This is now replaced with <code>query</code>. Code can be updated as following.</li>
</ul>
<pre><code>  const rows = await conn.executeQuery(&quot;SELECT ECInstanceId FROM bis.Element&quot;);</code></pre><p>can be change to following async iterator call</p>
<pre><code>  for await (const row of conn.query(&quot;SELECT ECInstanceId FROM bis.Element&quot;)) {
    /* process row */
  }</code></pre><p>in case user want to control paging manually like in case of virtual grid</p>
<pre><code>  const pageSize = 500; // Numer of rows per page
  const pageNo = 20;    // Page of interest
  const pageOptions = {size: noOfRowsPerPage, start: pageNo};
  const rows = await conn.queryPage (&quot;SELECT ECInstanceId FROM bis.Element&quot;, undefined, pageOptions);
  // rows will contain 0 to pageSize rows.
  if (rows.length &gt; 0 ){
    // process rows
  } else {
    // empty page mean there is no rows in that page and next page would also return no rows.
  }</code></pre><p>in addition to above following can get the maximum number of rows returned by the query</p>
<pre><code>  const numberOfRows = await conn.queryRowCount(&quot;SELECT ECInstanceId FROM bis.Element&quot;);
  // initialize grid scrollbar according to expected number of rows that can be returned by query.</code></pre><p>All above can also be used with <code>ECDb</code> and <code>IModelDb</code> on backend.</p>
<h2 class="h-changes-to-imodelapp">Changes to IModelApp<a id="changes-to-imodelapp" class="heading-anchor" href="#changes-to-imodelapp"><span><i class="fa fa-link fa-rotate-90"></i></span></a></h2>
<p>Added unique id per session: IModelApp.sessionId</p>
<h2 class="h-authentication-and-authorization-related-changes-openid-connect-oauth">Authentication and Authorization related changes (OpenID Connect, OAuth)<a id="authentication-and-authorization-related-changes-openid-connect-oauth" class="heading-anchor" href="#authentication-and-authorization-related-changes-openid-connect-oauth"><span><i class="fa fa-link fa-rotate-90"></i></span></a></h2>
<p>Fixes to OidcDelegationClient-s. Backend applications can now exchange -</p>
<ul>
<li>OIDC Jason Web Tokens (JWT) for other JWT tokens with additional scope.</li>
<li>JWT tokens for legacy SAML tokens for legacy applications.</li>
</ul>
<h2 class="h-logger-configuration-changes">Logger Configuration Changes<a id="logger-configuration-changes" class="heading-anchor" href="#logger-configuration-changes"><span><i class="fa fa-link fa-rotate-90"></i></span></a></h2>
<p>The BunyanLoggerConfig, FluentdBunyanLoggerConfig, FluentdLoggerStream, and SeqLoggerConfig classes have been moved out of @bentley/bentleyjs-core and into the new @bentley/logger-config package.</p>
<h2 class="h-removed-rbacclient">Removed RbacClient<a id="removed-rbacclient" class="heading-anchor" href="#removed-rbacclient"><span><i class="fa fa-link fa-rotate-90"></i></span></a></h2>
<p>The RBAC API is considered internal and has been removed from the iModel.js stack. More comments on the individual methods that have been removed below.</p>
<pre><code>RbacClient.getProjects() // Use ConnectClient.getProjects() instead
RbacClient.getIModelHubPermissions() // The plan is for iModelHub to support this API.
RbacClient.getUsers() // This method is little used. Bentley internal clients can make the necessary REST API calls directly.
</code></pre>
            <p class='last-updated'>Last Updated:
                <span class='date-updated'>08 May, 2019</span>
            </p>
            <div id="imodeljs-github-comments">
            </div>
            
            <script>
              $(document).ready(function () {
                function initializeComments(repo) {
                  var s = document.createElement('script');
                  s.src = "http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/scripts/utterances/client.js";
                  s.setAttribute('repo', repo);
                  s.setAttribute('issue-term', 'title');
                  s.setAttribute('crossorigin', 'anonymous');
                  s.setAttribute('theme', 'github-light');
                  s.async = true;
            
                  document.getElementById("imodeljs-github-comments").appendChild(s);
                }
            
                var shouldShow = ldclient.variation(featureFlags.GithubIssuesFeedback);
            
                // shouldShow is undefined when ldclient has not emitted 'ready'.
                if (shouldShow === undefined) {
                  ldclient.on('ready', function () {
                    var gitIssueFlag = ldclient.variation(featureFlags.GithubIssuesFeedback);
                    var gitRepo = ldclient.variation(featureFlags.GitRepo);
                    if (gitIssueFlag) {
                      initializeComments(gitRepo);
                    }
                  });
                }
                else if (shouldShow) {
                  var gitRepo = ldclient.variation(featureFlags.GitRepo);
                  initializeComments(gitRepo);
                }
              });
            </script>
            
            <script type="text/javascript">
            
            </script>        </article>
    </div>
    <div class="toc-overlay"></div>
    <div id='inner-table-of-contents'>
       <!-- <div id='sticky-container' style="top: 76px; position: fixed;">
  <h4 class='heading'>On this page</h4>
    <div id="overview-container" class="clusterize-scroll">
      <ul id='nav' class='right-nav nav flex-column clusterize-content'>
              <li class='nav-item item '>
            <a class='title solo-title menu-text' href="#imodelhub-file-handlers-have-been-moved-to-imodeljs-clients-backend">iModelHub file handlers have been moved to imodeljs-clients-backend</a>
    </li>
       <li class='nav-item item '>
            <a class='title solo-title menu-text' href="#prevented-partial-downloads-of-changesets-and-briefcases">Prevented partial downloads of ChangeSets and Briefcases</a>
    </li>
       <li class='nav-item item '>
            <a class='title solo-title menu-text' href="#changes-to-imodelconnection">Changes to IModelConnection</a>
    </li>
       <li class='nav-item item '>
            <a class='title solo-title menu-text' href="#changes-to-imodelapp">Changes to IModelApp</a>
    </li>
       <li class='nav-item item '>
            <a class='title solo-title menu-text' href="#authentication-and-authorization-related-changes-openid-connect-oauth">Authentication and Authorization related changes (OpenID Connect, OAuth)</a>
    </li>
       <li class='nav-item item '>
            <a class='title solo-title menu-text' href="#logger-configuration-changes">Logger Configuration Changes</a>
    </li>
       <li class='nav-item item '>
            <a class='title solo-title menu-text' href="#removed-rbacclient">Removed RbacClient</a>
    </li>
 
      </ul>
    </div>
  </div>

 -->
    </div>
</div>

<!-- Footer -->
<footer class="page-footer font-small mdb-color pt-1 pb-3">
  <!-- Footer Links Container -->
  <div class="container text-center text-md-left">

    <!-- Grid row -->
    <div class="row d-flex align-items-center mt-2">

      <!-- Grid column -->
      <div class="col-md-7 col-lg-8 align-top d-none d-md-block">

        <a href="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/" class="navbar-brand">
          <img id="site-logo" class="site-logo" style="zoom:75%;"
            src="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/landing-page/assets/imodeljs-logo.svg" />
        </a>
        <small style="color: white; margin-right: 7px;"> powered by </small>
        <a href="https://www.bentley.com">
          <img href="https://www.bentley.com" id="sponsored-by-logo" class="sponsored-by-logo"
            style="zoom:75%; width: 162px; height: 37px;"
            src="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/landing-page/assets/bentley.svg" />
        </a>
      </div>
      <!-- Grid column -->

      <!-- Grid column -->
      <div class="col-md-5 col-lg-4 ml-lg-0">

        <!-- Social buttons -->
        <div class="text-center text-md-right">
          <ul class="list-unstyled list-inline">
            <li class="list-inline-item">
              <a class="btn-floating btn-sm rgba-white-slight mx-1" href="https://twitter.com/imodeljs" target="_blank">
                <i class="fa fa-twitter"></i>
              </a>
            </li>
            </li>
            <li class="list-inline-item">
              <a class="btn-floating btn-sm rgba-white-slight mx-1" href="https://github.com/imodeljs" target="_blank">
                <i class="fa fa-github"></i>
              </a>
            </li>
            <li class="list-inline-item">
              <a class="btn-floating btn-sm rgba-white-slight mx-1" href="https://stackoverflow.com/tags/imodeljs"
                target="_blank">
                <i class="fa fa-stack-overflow"></i>
              </a>
            </li>
          </ul>
        </div>

      </div>
      <!-- Grid column -->

    </div>
    <!-- Grid row -->

  </div>
  <!-- Footer Links Container -->

</footer>
<!-- Footer -->

</div>
<a href="javascript:" id="return-to-top"><i class="icon icon-chevron-up"></i></a>
<script src="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/scripts/bundle.js"></script>
</body>

</html>
<script src="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/scripts/monaco-editor/min/vs/loader.js"></script>
<script src="http://builds.bentley.com/prgbuilds/AzureBuilds/iModelJsDocs/public/scripts/ts-playground.js"></script>
